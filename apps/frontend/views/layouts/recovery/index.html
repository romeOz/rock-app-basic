[[$@frontend.views/sections/top]]
<main class="container main form-container" role="main"  data-ng-controller="RockFormController">
[[activeForm
    ?model=`+$root.model`
    ?validate=`true`
    ?config=`{
        "action" : "@link.home/recovery.html",
        "options" : {
            "class":"form-recovery",
            "novalidate" : "novalidate"
        },
        "fieldConfig" : {"template" : "{hint}\n{input}{error}"}
    }`
    ?fields=`{
        "0" : "<h2>[[%resetPassword:upperFirst]]</h2>",
        "email" : {
            "options" : {
                "inputOptions" : {
                    "class" : "form-control form-input",
                    "maxlength" : 30,
                    "autofocus" : "autofocus",
                    "placeholder" : "[[%email:upperFirst]]",
                    "data" : {"rock-reset-field-icon" : ""}
                },
                "required" : true
            }
        },
        "captcha" : {
            "options" : {
                "required" : true
            },
            "widget" : {
                "0" : "rock\\widgets\\Captcha",
                "1" :  {
                    "template" : "<div class='block-center'>{image}</div>{input}",
                    "options" : {
                        "class" : "form-control form-input",
                        "maxlength" : 7,
                        "value" : "",
                        "placeholder" : "[[%captcha:upperFirst]]"
                    }
                }
            }
        }
    }`
    ?submitButton=`[
        "[[%resetPassword]]",
        {
            "class" : "btn btn-primary",
            "name" : "recovery-button"
        }
    ]`
    ?wrapperTpl=`@INLINE
        [[!+alerts:notEmpty&then=`@common.views\\elements\\alert-danger`]]
        [[!+output]]`
]]
</main>
[[$@frontend.views/sections/footer]]